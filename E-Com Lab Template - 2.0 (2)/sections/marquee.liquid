{% comment %}
  Â© Sections Pro. You are free to use this section in your store. You may not redistribute this section in another Shopify app.
{% endcomment %}
<style>

  {% if section.settings.override_fonts %}
    {{ section.settings.text_font | font_face }}
  {% endif %}

  #sp-{{ section.id }} p {
    font-size: {{ section.settings.text_size }}px;
    {% if section.settings.override_fonts %}
    font-family: {{ section.settings.text_font.family }}, {{ section.settings.text_font.fallback_families }};
    font-weight: {{ section.settings.text_font.weight }};
    {% endif %}
    line-height: 1.0;
    color: {{ section.settings.text_color }};
  }

  {% assign image_height = section.settings.height | times: 3 %}

  #sp-{{ section.id }} {
    background-image: {{ section.settings.background_color }};
    width: 100%;
  }

  #sp-{{ section.id }} .sp-container {
    position: relative;
    margin: 0 auto;
    max-width: {{ section.settings.max_width }}px;
    padding: {{ section.settings.padding_top }}px {{ section.settings.padding_right }}px {{ section.settings.padding_bottom }}px {{ section.settings.padding_left }}px;
    overflow: hidden;
  }

  #sp-{{ section.id }}  .sp-container .sp-grid {
    width: fit-content;
    align-items: center;
    display: flex;
    position: relative;
    animation: marquee {{ section.settings.slideshow_speed }} linear infinite;
    will-change: transform;
  }
  
{% if section.settings.pause_on_hover == true %}
  #sp-{{ section.id }}  .sp-container .sp-grid:hover {
    animation-play-state: paused;
  }
{% endif %}

  #sp-{{ section.id }} .sp-item {
    display: inline-block;
    margin: 0 {{ section.settings.slideshow_spacing }}px 0 0;
  }
  
  #sp-{{ section.id }} .sp-item img {
    display: inline-block;
    position: relative;
    height: {{ section.settings.height }}px;
    {% if section.settings.media_aspect_ratio != "auto" %}object-fit: cover;{% endif %}
    aspect-ratio: {{ section.settings.media_aspect_ratio }};
    border-radius: {{ section.settings.media_radius }}px;
    {% if section.settings.media_shadow %}box-shadow: 0 0 5px 0 rgba(0,0,0,0.20);{% endif %}
    transition: all .5s;
    max-width: none;
  }

  #sp-{{ section.id }} .sp-item video {
    display: inline-block;
    position: relative;
    height: {{ section.settings.height }}px;
    object-fit: cover;
    aspect-ratio: {{ section.settings.media_aspect_ratio }};
    border-radius: {{ section.settings.media_radius }}px;
    {% if section.settings.media_shadow %}box-shadow: 0 0 5px 0 rgba(0,0,0,0.20);{% endif %}
    transition: all .5s;
  }

  #sp-{{ section.id }} .sp-col:hover {
    z-index: 3;
    transform: scale(1.02);
  }

  @keyframes marquee {
    to {
      transform: translateX(-50%);
    }
  }
</style>

<div id="sp-{{ section.id }}" class="sp-section" sp-section>

<div class="sp-container" sp-container>

  <div class="sp-grid">

    {% for block in section.blocks %}
      
      <div class="sp-item">
        {% if block.type == 'video' %}
          
          {% if block.settings.link %}
            <a href="{{ block.settings.link }}">
          {% endif %}
              {{
                block.settings.video
                | video_tag:
                  image_size: '500x',
                  playsinline: block.settings.video_inline,
                  autoplay: block.settings.video_autoplay,
                  loop: block.settings.video_loop,
                  controls: block.settings.video_controls,
                  muted: block.settings.video_muted
              }}
          {% if block.settings.link %}
            </a>
          {% endif %}
            
        {% endif %}

        {% if block.type == 'image' %}
          {% if block.settings.link %}
            <a href="{{ block.settings.link }}">
          {% endif %}
              {% if block.settings.image %}
              <img src="{{ block.settings.image | image_url: height: image_height }}">
              {% else %}
                <img 
                  src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Crect x='2' y='2' width='100%' height='100%' fill='%23C8C8C8' stroke='%23D8D8D8' stroke-width='4'/%3E%3C/g%3E%3C/svg%3E">
              {% endif %}
          {% if block.settings.link %}
              </a>
          {% endif %}
        {% endif %}

        {% if block.type == 'image_icon_with_text' %}

          <style>

            #sp-{{ section.id }} #sp-iiwt-{{ forloop.index }}.sp-img-icon-with-text {
              margin: 0;
            }

            #sp-{{ section.id }} #sp-iiwt-{{ forloop.index }}.sp-img-icon-with-text>div,
            #sp-{{ section.id }} #sp-iiwt-{{ forloop.index }}.sp-img-icon-with-text>a {
              display: grid;
              grid-template-columns: {{ block.settings.size }}px 1fr;
              align-items: center;
              gap: {{ block.settings.gap }}px;
              margin: 0;
              padding: 0;
              white-space: nowrap;
              text-decoration: none;
            }

            #sp-{{ section.id }} #sp-iiwt-{{ forloop.index }} img {
              height: {{ block.settings.size }}px;
              width: {{ block.settings.size }}px;
              object-fit: cover;
              margin: 0;
              padding: 0;
              {% if block.settings.shape == 'circle' %}
              border-radius: 50%;
              {% elsif block.settings.shape == 'rounded' %}
              border-radius: 5px;
              {% elsif block.settings.shape == 'square' %}
              border-radius: 0;
              {% endif %}
            }
          </style>

          <div id="sp-iiwt-{{ forloop.index }}" class="sp-img-icon-with-text">
            {% if block.settings.link %}
              <a href="{{ block.settings.link }}">
            {% else %}
              <div>
            {% endif %}
            {% if block.settings.image %}
              <img id="sp-image-{{ forloop.index }}" src="{{ block.settings.image | image_url: width: 1024 }}">
              {% else %}
              <img id="sp-image-{{ forloop.index }}" src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 500 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Crect x='2' y='2' width='496' height='496' fill='%23D8D8D8' stroke='%23D8D8D8' stroke-width='4'/%3E%3C/g%3E%3C/svg%3E">
              {% endif %}
            <p>{{ block.settings.text }}</p>
            {% if block.settings.link %}
              </a>
            {% else %}
              </div>
            {% endif %}
          </div>
        {% endif %}

        {% if block.type == 'icon_with_text' %}

          <style>
            #sp-{{ section.id }} #sp-tiwt-{{ forloop.index }}.sp-icon-with-text {
              margin: 0;
            }

            #sp-{{ section.id }} #sp-tiwt-{{ forloop.index }}.sp-icon-with-text>div,
            #sp-{{ section.id }} #sp-tiwt-{{ forloop.index }}.sp-icon-with-text>a{
              display: grid;
              grid-template-columns: {{ block.settings.size }}px 1fr;
              gap: {{ block.settings.gap }}px;
              margin: 0;
              padding: 0;
              align-items: center;
              white-space: nowrap;
              text-decoration: none;
            }

            #sp-{{ section.id }} #sp-tiwt-{{ forloop.index }} svg {
              width: {{ block.settings.size }}px;
              height: {{ block.settings.size }}px;
              fill: {{ block.settings.color }};
            }
          </style>

          <div id="sp-tiwt-{{ forloop.index }}" class="sp-icon-with-text">
            {% if block.settings.link %}
              <a href="{{ block.settings.link }}">
            {% else %}
              <div>
            {% endif %}
            {% if block.settings.icon == "cart" %}
              {{ cart_svg }}
            {% elsif block.settings.icon == "gift" %}
              {{ gift_svg }}
            {% elsif block.settings.icon == "gift-card" %}
              {{ gift_card_svg }}
            {% elsif block.settings.icon == "shipping" %}
              {{ shipping_svg }}
            {% elsif block.settings.icon == "payment" %}
              {{ payment_svg }}
            {% elsif block.settings.icon == "trending" %}
              {{ trending_svg }}
            {% elsif block.settings.icon == "tag" %}
              {{ tag_svg }}
            {% elsif block.settings.icon == "bag" %} 
              {{ bag_svg }}
            {% elsif block.settings.icon == "heart" %}   
              {{ heart_svg }}
            {% elsif block.settings.icon == "star" %}     
              {{ star_svg }}
            {% elsif block.settings.icon == "leaf" %}   
              {{ leaf_svg }}
            {% elsif block.settings.icon == "paw" %}  
              {{ paw_svg }}
            {% elsif block.settings.icon == "shield" %}
              {{ shield_svg }}
            {% elsif block.settings.icon == "percent" %}
              {{ percent_svg }}
            {% elsif block.settings.icon == "timer" %}
              {{ timer_svg }}
            {% elsif block.settings.icon == "bank" %}
              {{ bank_svg }}
            {% elsif block.settings.icon == "box" %}
              {{ box_svg }}
            {% elsif block.settings.icon == "map" %}
              {{ map_svg }}
            {% elsif block.settings.icon == "package" %}
              {{ package_svg }}
            {% elsif block.settings.icon == "return" %}
              {{ return_svg }}
            {% elsif block.settings.icon == "chat" %}
              {{ chat_svg }}
            {% elsif block.settings.icon == "email" %}
              {{ email_svg }}
            {% elsif block.settings.icon == "handshake" %} 
              {{ handshake_svg }}
            {% elsif block.settings.icon == "thumbsup" %} 
              {{ thumbsup_svg }}
            {% elsif block.settings.icon == "gaming" %} 
              {{ gaming_svg }}
            {% elsif block.settings.icon == "support" %} 
              {{ support_svg }}
            {% elsif block.settings.icon == "phone" %} 
              {{ phone_svg }}
            {% elsif block.settings.icon == "check" %} 
              {{ check_svg }}
            {% endif %}
            <p>{{ block.settings.text }}</p>
          {% if block.settings.link %}
            </a>
          {% else %}
            </div>
          {% endif %}
        </div>
        {% endif %}
      </div>
      <!-- /.sp-col -->

    {% endfor %}

  </div>
  <!-- /.sp-grid -->
  
</div>
<!-- /.sp-container -->

</div>
<!-- /.sp-section -->

{% schema %}
  {
    "name": "ðŸš€SP - Marquee",
    "settings": [
        {
          "type": "header",
          "content": "Font",
          "info": "Set the fonts for your section"
        },
        {
          "type": "checkbox",
          "id": "override_fonts",
          "label": "Override theme fonts",
          "default": false
        },
        {
          "type": "font_picker",
          "id": "text_font",
          "label": "Text Font",
          "default": "sans-serif"
        },
        {
          "type": "header",
          "content": "Text",
          "info": "Set the text for your section"
        },
        {
          "type": "range",
          "id": "text_size",
          "min": 10,
          "max": 50,
          "step": 1,
          "unit": "px",
          "label": "Text Size",
          "default": 15
        },
      {
        "type": "header",
        "content": "Colors",
        "info": "Set colors for the section."
      },
      {
        "type": "color",
        "id": "text_color",
        "default": "#111",
        "label": "Text Color"
      },
      {
        "type": "color_background",
        "id": "background_color",
        "default": "linear-gradient(164deg, #fff 0%, #fff 0%)",
        "label": "Background"
      },
      {
        "type": "color_background",
        "id": "button_background_color",
        "default": "linear-gradient(164deg, #111 0%, #333 100%)",
        "label": "Button Background Color"
      },
      {
        "type": "header",
        "content": "Slideshow",
        "info": "Set the slideshow properties"
      },
      {
        "type": "select",
        "id": "slideshow_speed",
        "label": "Speed",
        "options": [
          {
            "value": "2s",
            "label": "Fastest"
          },
          {
            "value": "5s",
            "label": "Faster"
          },
          {
            "value": "10s",
            "label": "Fast"
          },
          {
            "value": "15s",
            "label": "Medium"
          },
          {
            "value": "20s",
            "label": "Slow"
          },
          {
            "value": "30s",
            "label": "Slower"
          },
          {
            "value": "50s",
            "label": "Slowest"
          },
          {
            "value": "250s",
            "label": "Crawl"
          }
        ],
        "default": "10s"
      },
      {
        "type": "range",
        "id": "media_radius",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Round Borders on Media",
        "default": 5
      },
      {
        "type": "checkbox",
        "id": "media_shadow",
        "default": true,
        "label": "Subtle Shadow on Media"
      },
      {
        "type": "number",
        "id": "slideshow_spacing",
        "default": 5,
        "label": "Spacing between Media"
      },
      {
        "type": "header",
        "content": "Dimensions",
        "info": "Set the section dimensions in pixels."
      },
      {
        "type": "select",
        "id": "media_aspect_ratio",
        "label": "Media Aspect Ratio",
        "options": [
          {
            "value": "21 / 9",
            "label": "21:9"
          },
          {
            "value": "16 / 9",
            "label": "16:9"
          },
          {
            "value": "4 / 3",
            "label": "4:3"
          },
          {
            "value": "1 / 1",
            "label": "1:1"
          },
          {
            "value": "auto",
            "label": "auto"
          }
        ],
        "default": "1 / 1"
      },
      {
        "type": "number",
        "id": "max_width",
        "default": 1000,
        "label": "Max Width of Section"
      },
      {
        "type": "number",
        "id": "height",
        "default": 300,
        "label": "Height of Media"
      },
      {
        "type": "number",
        "id": "padding_top",
        "default": 25,
        "label": "Padding Top"
      },
      {
        "type": "number",
        "id": "padding_bottom",
        "default": 25,
        "label": "Padding Bottom"
      },
      {
        "type": "number",
        "id": "padding_left",
        "default": 10,
        "label": "Padding Left"
      },
      {
        "type": "number",
        "id": "padding_right",
        "default": 10,
        "label": "Padding Right"
      },
      {
        "type": "checkbox",
        "id": "pause_on_hover",
        "default": true,
        "label": "Pause on Hover"
      }
    ],
    "blocks": [
      {
        "name": "Image",
        "type": "image",
        "settings": [
          
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Optional Link"
          }
        ]
      },
      {
       "name": "Video",
       "type": "video",
       "settings": [
          {
            "type": "video",
            "id": "video",
            "label": "Video"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Optional Link"
          },
          {
            "type": "checkbox",
            "id": "video_inline",
            "label": "Play Inline",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "video_autoplay",
            "label": "Autoplay",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "video_loop",
            "label": "Loop Video",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "video_controls",
            "label": "Show Video Controls",
            "default": false
          },
          {
            "type": "checkbox",
            "id": "video_muted",
            "label": "Mute Video",
            "default": true
          }
       ]
      },
      {
        "name": "Icon with Text",
        "type": "icon_with_text",
        "settings": [
            {
              "type": "color",
              "id": "color",
              "default": "#111",
              "label": "Icon Color"
            },
            {
              "type": "number",
              "id": "size",
              "default": 25,
              "label": "Icon Size"
            },
            {
              "type": "number",
              "id": "gap",
              "default": 5,
              "label": "Space Between Icon and Text"
            },
           {
             "type": "inline_richtext",
             "id": "text",
             "label": "Text",
             "default": "This is sample text to go along with the icon"
           },
           {
             "type": "select",
             "id": "icon",
             "label": "Icon",
             "options": [
               {
                 "value": "cart",
                 "label": "Cart"
               },
               {
                 "value": "gift",
                 "label": "Gift"
               },
               {
                 "value": "gift-card",
                 "label": "Gift Card"
               },
               {
                 "value": "shipping",
                 "label": "Shipping"
               },
               {
                 "value": "payment",
                 "label": "Payment"
               },
               {
                 "value": "trending",
                 "label": "Trending"
               },
               {
                 "value": "tag",
                 "label": "Tag"
               },
               {
                 "value": "bag",
                 "label": "Bag"
               },
               {
                 "value": "heart",
                 "label": "Heart"
               },
               {
                 "value": "star",
                 "label": "Star"
               },
               {
                 "value": "paw",
                 "label": "Paw"
               },
               {
                 "value": "leaf",
                 "label": "Leaf"
               },
               {
                 "value": "shield",
                 "label": "Shield"
               },
               {
                 "value": "percent",
                 "label": "Percent"
               },
               {
                 "value": "timer",
                 "label": "Timer"
               },
               {
                 "value": "bank",
                 "label": "Bank"
               },
               {
                 "value": "box",
                 "label": "Box"
               },
               {
                 "value": "map",
                 "label": "Map"
               },
               {
                 "value": "package",
                 "label": "Package"
               },
               {
                 "value": "return",
                 "label": "Return"
               },
               {
                 "value": "chat",
                 "label": "Chat"
               },
               {
                 "value": "email",
                 "label": "Email"
               },
               {
                 "value": "handshake",
                 "label": "Handshake"
               },
               {
                 "value": "thumbsup",
                 "label": "Thumbs Up"
               },
               {
                 "value": "gaming",
                 "label": "Gaming"
               },
               {
                 "value": "support",
                 "label": "Support"
               },
               {
                 "value": "phone",
                 "label": "Phone"
               },
               {
                 "value": "check",
                 "label": "Check"
               }
             ],
             "default": "tag"
           },
           {
             "type": "url",
             "id": "link",
             "label": "Optional Link"
           }
        ]
       },
       {
        "name": "Image Icon with Text",
        "type": "image_icon_with_text",
        "settings": [
            {
              "type": "image_picker",
              "id": "image",
              "label": "Image"
            },
            {
              "type": "select",
              "id": "shape",
              "label": "Shape",
              "options": [
                {
                  "value": "circle",
                  "label": "Circle"
                },
                {
                  "value": "rounded",
                  "label": "Rounded"
                },
                {
                  "value": "square",
                  "label": "Square"
                }
              ],
              "default": "circle"
            },
            {
              "type": "number",
              "id": "size",
              "default": 25,
              "label": "Image Size"
            },
            {
              "type": "number",
              "id": "gap",
              "default": 20,
              "label": "Space Between Icon and Text"
            },
           {
             "type": "inline_richtext",
             "id": "text",
             "label": "Text",
             "default": "This is sample text to go along with the icon"
           },
           {
             "type": "url",
             "id": "link",
             "label": "Optional Link"
           }
        ]
       }
    ],
	"presets": [
      {
        "name": "ðŸš€SP - Marquee",
        "blocks": [
          {
            "type": "image"
          },
          {
            "type": "image"
          },
          {
            "type": "image"
          }
        ]
      }
    ]
  }
{% endschema %}
